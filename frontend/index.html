<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0f0f23">
    <meta name="description" content="AI-powered thinking partner for busy professionals">
    <title>Thinking Partner</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üß†</text></svg>">
</head>
<body>
    <!-- Animated Aurora Background -->
    <div class="aurora-bg"></div>

    <!-- Floating Neural Orbs -->
    <div class="neural-orbs">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
        <div class="orb orb-4"></div>
    </div>

    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <h1 class="logo">Thinking Partner</h1>
            <div class="header-actions">
                <button id="exportBtn" class="btn btn-secondary" disabled>
                    <span class="icon">üì•</span>
                    <span class="btn-text">Export</span>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Session Control Panel -->
            <section class="session-panel">
                <div class="session-status" id="sessionStatus">
                    <div class="status-indicator inactive"></div>
                    <span>Ready to start</span>
                </div>

                <!-- Sound Wave Visualizer -->
                <div class="sound-wave" id="soundWave">
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                </div>

                <button id="sessionBtn" class="btn btn-primary btn-large">
                    <span class="icon">üéôÔ∏è</span>
                    Start Thinking Session
                </button>

                <!-- Recording indicator -->
                <div class="recording-indicator hidden" id="recordingIndicator">
                    <div class="pulse-ring"></div>
                    <span>Listening</span>
                </div>
            </section>

            <!-- Two-column layout for desktop, stacked for mobile -->
            <div class="content-grid">
                <!-- Left Column: Transcript & AI Response -->
                <section class="conversation-section">
                    <!-- Real-time Transcript -->
                    <div class="panel transcript-panel">
                        <div class="panel-header">
                            <h2>Live Transcript</h2>
                            <span class="badge" id="transcriptBadge">0 words</span>
                        </div>
                        <div class="panel-content" id="transcriptContent">
                            <p class="placeholder-text">Your thoughts will appear here as you speak...</p>
                        </div>

                        <!-- Text input for typing (fallback/testing) -->
                        <div class="text-input-container">
                            <input
                                type="text"
                                id="textInput"
                                class="text-input"
                                placeholder="Or type your thoughts here..."
                                disabled
                            >
                            <button id="sendTextBtn" class="btn btn-icon" disabled>
                                <span>‚Üí</span>
                            </button>
                        </div>
                    </div>

                    <!-- AI Response -->
                    <div class="panel ai-panel">
                        <div class="panel-header">
                            <h2>AI Partner</h2>
                            <div class="processing-indicator hidden" id="processingIndicator">
                                <div class="spinner"></div>
                                <span>Thinking</span>
                            </div>
                        </div>
                        <div class="panel-content" id="aiResponseContent">
                            <p class="placeholder-text">AI responses will appear here...</p>
                        </div>
                    </div>
                </section>

                <!-- Right Column: Document -->
                <section class="document-section">
                    <div class="panel document-panel">
                        <div class="panel-header">
                            <h2>Organized Notes</h2>
                            <button class="btn btn-icon" id="toggleDocBtn" title="Toggle view">
                                <span id="toggleIcon">üìÑ</span>
                            </button>
                        </div>
                        <div class="panel-content document-content" id="documentContent">
                            <p class="placeholder-text">Your thoughts will be organized here as sections...</p>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Built for professionals who need to think clearly</p>
        </footer>

        <!-- Error Toast -->
        <div class="toast hidden" id="errorToast">
            <span class="toast-icon">‚ö†Ô∏è</span>
            <span class="toast-message" id="errorMessage"></span>
            <button class="toast-close" id="closeToast">√ó</button>
        </div>

        <!-- Export Modal -->
        <div class="modal hidden" id="exportModal">
            <div class="modal-backdrop" id="modalBackdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Export Document</h3>
                    <button class="btn btn-icon modal-close" id="closeModal">√ó</button>
                </div>
                <div class="modal-body">
                    <textarea id="exportPreview" class="export-preview" readonly></textarea>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="copyExportBtn">
                        <span class="icon">üìã</span> Copy to Clipboard
                    </button>
                    <button class="btn btn-primary" id="downloadExportBtn">
                        <span class="icon">üíæ</span> Download .md
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
