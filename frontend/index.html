<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#FAF9F6">
    <meta name="description" content="AI-powered thinking partner">
    <title>Thinking Partner</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <button class="back-btn" id="backBtn">&larr; Back</button>
            <div class="header-center">
                <span class="mode-indicator" id="modeIndicator">
                    <span class="status-dot"></span>
                    Enhanced notes
                </span>
            </div>
            <button class="share-btn" id="exportBtn" disabled>Share</button>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Title -->
            <h1 class="document-title" id="documentTitle">New Session</h1>

            <!-- Transcript (dev toggle) -->
            <div class="transcript-section hidden" id="transcriptSection">
                <div class="transcript-header">
                    <span>Transcript</span>
                    <button class="hide-transcript-btn" id="hideTranscriptBtn">&times;</button>
                </div>
                <div class="transcript-content" id="transcriptContent">
                    <p class="placeholder">Your words will appear here...</p>
                </div>
            </div>

            <!-- AI Responses -->
            <div class="ai-responses" id="aiResponses">
                <p class="placeholder">AI responses will appear here as you think out loud...</p>
            </div>

            <!-- Notes Summary (collapsible) -->
            <details class="notes-section" id="notesSection">
                <summary class="notes-toggle">Notes</summary>
                <div class="notes-content" id="notesContent">
                    <p class="placeholder">Organized notes will appear here...</p>
                </div>
            </details>
        </main>

        <!-- Input Bar -->
        <div class="input-bar">
            <div class="input-controls">
                <button class="mic-btn" id="sessionBtn">
                    <span class="mic-icon">|||</span>
                </button>
                <span class="stop-indicator" id="stopIndicator"></span>
            </div>
            <input
                type="text"
                id="textInput"
                class="ask-input"
                placeholder="Ask anything"
                disabled
            >
            <button class="transcript-toggle" id="transcriptToggle" title="Show transcript">T</button>
        </div>
    </div>

    <!-- Toast (hidden by default) -->
    <div class="toast hidden" id="errorToast">
        <span id="errorMessage"></span>
        <button class="toast-close" id="closeToast">&times;</button>
    </div>

    <!-- Export Modal -->
    <div class="modal hidden" id="exportModal">
        <div class="modal-backdrop" id="modalBackdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Export Notes</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <textarea id="exportPreview" class="export-preview" readonly></textarea>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="copyExportBtn">Copy</button>
                <button class="btn-primary" id="downloadExportBtn">Download</button>
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
